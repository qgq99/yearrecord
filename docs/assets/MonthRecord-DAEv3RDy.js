import{j as s}from"./jsx-runtime-DWbWqHZ-.js";import{r as I}from"./index-l2PZgWEW.js";import{M as V}from"./constant-DYgn2t-2.js";import{T as N}from"./Tooltip-DTU_Z1dm.js";const p=(t,e,a)=>{const o=[31,28,31,30,31,30,31,31,30,31,30];let l=365*(t-1971)+Math.floor((t-1969)/4);for(let r=0;r<e-1;++r)l+=o[r];return(t%400===0||t%4===0&&t%100!==0)&&e>=3&&(l+=1),l+=a,(l+3)%7+1},T=(t,e,a,o)=>{a=Math.floor(a),o=Math.floor(o);let l=[31,28,31,30,31,30,31,31,30,31,30,31];(t%4==0&&t%100!=0||t%400==0)&&(l[1]=29);let r=[];for(let u=0;u<l[e-1];u++)r.push({year:t,month:e,day:u+1,data:Math.floor(Math.random()*(o-a))+a});return r},w=(t,e,a,o)=>(o+=p(t,e,a)-1,o%7===0?o/7:Math.ceil(o/7)),A=(t,e,a,o)=>{let l=new Date(t,e-1,a),r=[];for(let u=0;u<o;u++)r.push({year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate(),data:Math.floor(Math.random()*100)+0}),l.setDate(l.getDate()+1);return r},q=t=>{let e=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(let o of t)e=Math.max(e,o),a=Math.min(a,o);return[e,a]},E=t=>{let e;switch(t){case"top":e="-20px 0 auto 0";break;case"left":e="0 auto 0 -40px";break;case"right":e="0 -40px 0 auto";break;case"bottom":e="auto 0 -30px 0";break;case"top-start":e="-20px auto auto 0";break;case"top-end":e="-20px 0 auto auto";break;case"right-start":e="0 -40px auto auto";break;case"right-end":e="auto -40px 0 auto";break;case"bottom-start":e="auto auto -30px 0";break;case"bottom-end":e="auto 0 -30px auto";break;case"left-start":e="0 auto auto -40px";break;case"left-end":e="auto auto 0 -40px";break;default:e="auto auto auto auto"}return e},_=({itemWidth:t="15px",itemHeight:e="15px",itemBorderRadius:a="5px",gridRowGap:o="3px",gridColumnGap:l="3px",year:r=new Date().getFullYear(),month:u=new Date().getMonth()+1,data:i,themeColor:h="#39d353",tooltipTitileFunc:g=c=>"tooltip title",tooltipTitlePlacement:M="top",compact:f=!1,onRecordClick:b=c=>{}})=>{i||(i=T(r,u,0,100));const c=f?p(i[0].year,i[0].month,i[0].day):p(r,u,1),v=new Array(c-1).fill(0),m=w(r,u,1,i.length),y=new Array(m*7-c+1-i.length).fill(0),k={boxSizing:"border-box",padding:"5px",display:"grid",gridTemplateRows:`repeat(7, ${e})`,gridTemplateColumns:`repeat(${m}, ${t})`,rowGap:o,columnGap:l,gridAutoFlow:"column","--itemWidth":t,"--itemHeight":e},[D,x]=I.useMemo(()=>q(i.map(d=>d.data)),[]);return s.jsx(s.Fragment,{children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsxs("div",{className:"mr-container",style:k,children:[v.map((d,n)=>s.jsx("div",{className:"day-record",style:{"--itemBorderRadius":a,visibility:"hidden"}},n)),i.map((d,n)=>s.jsx(N,{title:g(d),placement:M,children:s.jsx("div",{onClick:()=>b(d),className:"day-record",style:{"--itemBorderRadius":a,"--themeColor":h,"--opacity":(d.data-x)/(D-x)+V}})},n)),y.map((d,n)=>s.jsx("div",{className:"day-record",style:{"--itemBorderRadius":a,visibility:"hidden"}},n))]}),f?s.jsx(s.Fragment,{}):s.jsxs("span",{children:[u,"æœˆ"]})]})})};_.__docgenInfo={description:"",methods:[],displayName:"MonthRecord",props:{itemWidth:{defaultValue:{value:'"15px"',computed:!1},required:!1},itemHeight:{defaultValue:{value:'"15px"',computed:!1},required:!1},itemBorderRadius:{defaultValue:{value:'"5px"',computed:!1},required:!1},gridRowGap:{defaultValue:{value:'"3px"',computed:!1},required:!1},gridColumnGap:{defaultValue:{value:'"3px"',computed:!1},required:!1},year:{defaultValue:{value:"new Date().getFullYear()",computed:!0},required:!1},month:{defaultValue:{value:"new Date().getMonth() + 1",computed:!1},required:!1},themeColor:{defaultValue:{value:'"#39d353"',computed:!1},required:!1},tooltipTitileFunc:{defaultValue:{value:'_ => "tooltip title"',computed:!1},required:!1},tooltipTitlePlacement:{defaultValue:{value:'"top"',computed:!1},required:!1},compact:{defaultValue:{value:"false",computed:!1},required:!1},onRecordClick:{defaultValue:{value:"_ => undefined",computed:!1},required:!1}}};export{_ as M,T as a,E as c,A as g};
