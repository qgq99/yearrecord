import{j as i}from"./jsx-runtime-DWbWqHZ-.js";import{r as N}from"./index-l2PZgWEW.js";import{T as w}from"./Tooltip-DTU_Z1dm.js";const c=(e,l,t)=>{const a=[31,28,31,30,31,30,31,31,30,31,30];let r=365*(e-1971)+Math.floor((e-1969)/4);for(let o=0;o<l-1;++o)r+=a[o];return(e%400===0||e%4===0&&e%100!==0)&&l>=3&&(r+=1),r+=t,(r+3)%7+1},j=(e,l,t,a)=>{t=Math.floor(t),a=Math.floor(a);let r=[31,28,31,30,31,30,31,31,30,31,30,31];(e%4==0&&e%100!=0||e%400==0)&&(r[1]=29);let o=[];for(let s=0;s<r[l-1];s++)o.push({year:e,month:l,day:s+1,data:Math.floor(Math.random()*(a-t))+t});return o},q=(e,l,t,a)=>(a+=c(e,l,t)-1,a%7===0?a/7:Math.ceil(a/7)),b=(e,l,t,a)=>{let r=new Date(e,l-1,t),o=[];for(let s=0;s<a;s++)o.push({year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate(),data:Math.floor(Math.random()*100)+0}),r.setDate(r.getDate()+1);return o},I=e=>{let l=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY;for(let a of e)l=Math.max(l,a),t=Math.min(t,a);return[l,t]},T=({itemWidth:e="15px",itemHeight:l="15px",itemBorderRadius:t="5px",gridRowGap:a="3px",gridColumnGap:r="3px",year:o=new Date().getFullYear(),month:s=new Date().getMonth()+1,data:u,themeColor:x="#39d353",tooltipTitileFunc:g=p=>"tooltip title",tooltipTitlePlacement:M="top",compact:f=!1})=>{u||(u=j(o,s,0,100));const p=f?c(u[0].year,u[0].month,u[0].day):c(o,s,1),y=new Array(p-1).fill(0),m=q(o,s,1,u.length),v=new Array(m*7-p+1-u.length).fill(0),D={boxSizing:"border-box",padding:"5px",display:"grid",gridTemplateRows:`repeat(7, ${l})`,gridTemplateColumns:`repeat(${m}, ${e})`,rowGap:a,columnGap:r,gridAutoFlow:"column","--itemWidth":e,"--itemHeight":l},[V,h]=N.useMemo(()=>I(u.map(d=>d.data)),[]);return i.jsx(i.Fragment,{children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i.jsxs("div",{className:"mr-container",style:D,children:[y.map((d,n)=>i.jsx("div",{className:"day-record",style:{"--itemBorderRadius":t,visibility:"hidden"}},n)),u.map((d,n)=>i.jsx(w,{title:g(d),placement:M,children:i.jsx("div",{className:"day-record",style:{"--itemBorderRadius":t,"--themeColor":x,"--opacity":(d.data-h)/(V-h)+.05}})},n)),v.map((d,n)=>i.jsx("div",{className:"day-record",style:{"--itemBorderRadius":t,visibility:"hidden"}},n))]}),f?i.jsx(i.Fragment,{}):i.jsxs("span",{children:[s,"æœˆ"]})]})})};T.__docgenInfo={description:"",methods:[],displayName:"MonthRecord",props:{itemWidth:{defaultValue:{value:'"15px"',computed:!1},required:!1},itemHeight:{defaultValue:{value:'"15px"',computed:!1},required:!1},itemBorderRadius:{defaultValue:{value:'"5px"',computed:!1},required:!1},gridRowGap:{defaultValue:{value:'"3px"',computed:!1},required:!1},gridColumnGap:{defaultValue:{value:'"3px"',computed:!1},required:!1},year:{defaultValue:{value:"new Date().getFullYear()",computed:!0},required:!1},month:{defaultValue:{value:"new Date().getMonth() + 1",computed:!1},required:!1},themeColor:{defaultValue:{value:'"#39d353"',computed:!1},required:!1},tooltipTitileFunc:{defaultValue:{value:'_ => "tooltip title"',computed:!1},required:!1},tooltipTitlePlacement:{defaultValue:{value:'"top"',computed:!1},required:!1},compact:{defaultValue:{value:"false",computed:!1},required:!1}}};export{T as M,j as a,b as g};
